webpackJsonp([1],{"+A+K":function(t,i,e){"use strict";var s=e("qZ1h"),a=e.n(s);i.a={data:function(){return{item:{images:{},rating:{},directors:[{avatars:{medium:""}}],casts:[{avatars:{medium:""}}]}}},created:function(){this.getDetail()},watch:{item:function(){this._initScroll(),this._initPics()}},mounted:function(){var t=this;this.$nextTick(function(){t._initScroll(),t._initPics()})},methods:{getDetail:function(){var t=this;t.$axios.get("/api/movie/subject/"+t.$route.params.id).then(function(i){t.item=i.data}).catch(function(t){console.log(t)})},_initScroll:function(){this.detailScroll?this.detailScroll.refresh():this.detailScroll=new a.a(this.$refs.detail,{click:!0})},_initPics:function(){var t=this;this.$nextTick(function(){if(t.item.directors||t.item.casts){var i=86*(t.item.directors.length+t.item.casts.length)-6;t.$refs.player.style.width=i+"px",t.$nextTick(function(){t.actorScroll?t.actorScroll.refresh():t.actorScroll=new a.a(t.$refs.actor,{scrollX:!0,eventPassthrough:"vertical"})})}})},back:function(){history.back()},expand:function(){return this.$refs.expand.style.display="none",this.$refs.summary.className="contShow",this._initScroll(),!1}}}},"+YqY":function(t,i){},"0C/Y":function(t,i,e){"use strict";function s(t){e("pJuR")}var a=e("+A+K"),n=e("h9k8"),r=e("aCXx"),c=s,o=r(a.a,n.a,c,"data-v-b3729f32",null);i.a=o.exports},"40Dh":function(t,i,e){"use strict";var s=e("qZ1h"),a=e.n(s);i.a={data:function(){return{res:{subjects:[{images:{},rating:{}}]},id:""}},created:function(){this.getData()},methods:{getData:function(){var t=this;t.$axios.get("/api/movie/search",{params:{q:t.$route.params.text}}).then(function(i){t.res=i.data,t.$nextTick(function(){t._initScroll()})}).catch(function(t){console.log(t)})},_initScroll:function(){this.resultScroll=new a.a(this.$refs.result,{click:!0})},selectMovie:function(t,i){i._constructed&&(this.id=t,this.$router.push("/movie/subject/"+this.id))}}}},AWdC:function(t,i){},BdCD:function(t,i){},Cz8s:function(t,i,e){"use strict";function s(t){e("vhmv")}var a=e("TgpV"),n=e("Mfxt"),r=e("aCXx"),c=s,o=r(a.a,n.a,c,"data-v-7861fb37",null);i.a=o.exports},M93x:function(t,i,e){"use strict";function s(t){e("BdCD")}var a=e("k5Ta"),n=e("Tzlk"),r=e("aCXx"),c=s,o=r(a.a,n.a,c,null,null);i.a=o.exports},Mfxt:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"header"},[e("a",{staticClass:"theme",attrs:{href:"/"}},[t._v("电影")])])])}],n={render:s,staticRenderFns:a};i.a=n},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("xP8B"),a=e.n(s),n=e("M93x"),r=e("sv+d"),c=e("pjlt"),o=e("0C/Y"),l=e("WE8B"),u=e("GYbZ"),v=e.n(u);a.a.prototype.$axios=v.a,a.a.use(r.a);var m=new r.a({routes:[{path:"/",redirect:"/movie/coming_soon"},{path:"/movie/:type",component:c.a},{path:"/movie/subject/:id",component:o.a},{path:"/search/:text",component:l.a}]});new a.a({el:"#app",template:"<App/>",router:m,axios:v.a,components:{App:n.a}})},TgpV:function(t,i,e){"use strict";i.a={name:"header"}},Tzlk:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"header"},[e("v-header")],1),t._v(" "),e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.query,expression:"query",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",name:"serach",placeholder:"搜索..."},domProps:{value:t.query},on:{input:function(i){i.target.composing||(t.query=i.target.value.trim())},blur:function(i){t.$forceUpdate()}}}),t._v(" "),e("router-link",{staticClass:"search-btn",attrs:{to:t.path},nativeOn:{click:function(i){t.empty()}}})],1),t._v(" "),e("div",{staticClass:"tab"},[e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/movie/coming_soon"}},[t._v("即将上映")])],1),t._v(" "),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/movie/in_theaters"}},[t._v("热播")])],1)]),t._v(" "),e("div",{staticClass:"content"},[e("keep-alive",[e("router-view",{key:t.key})],1)],1)])},a=[],n={render:s,staticRenderFns:a};i.a=n},WE8B:function(t,i,e){"use strict";function s(t){e("+YqY")}var a=e("40Dh"),n=e("xZhq"),r=e("aCXx"),c=s,o=r(a.a,n.a,c,"data-v-6ca6eac4",null);i.a=o.exports},bECS:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"movies"},[e("div",{staticClass:"title"},[e("span",[t._v(t._s(t.movies.title))])]),t._v(" "),e("div",{ref:"movieList",staticClass:"movie-list"},[e("ul",{staticClass:"movie-box"},t._l(t.movies.subjects,function(i,s){return e("li",{staticClass:"movie-item",on:{click:function(e){t.selectMovie(i.id,e)}}},[e("div",{staticClass:"show-box"},[e("div",{staticClass:"img-show"},[e("img",{attrs:{src:i.images.medium,alt:""}})]),t._v(" "),e("div",{staticClass:"movie-title"},[e("span",{staticClass:"movie-name"},[t._v(t._s(i.title))])])])])}))])])])},a=[],n={render:s,staticRenderFns:a};i.a=n},fHUG:function(t,i,e){"use strict";var s=e("qZ1h"),a=e.n(s);i.a={data:function(){return{movies:{title:"",subjects:[{images:{}}]},id:"",movie:{}}},created:function(){this.getMovies()},methods:{getMovies:function(){var t=this;t.$axios.get("/api/movie/"+t.$route.params.type).then(function(i){t.movies=i.data,t.movieTitle=i.data.title,t.subjects=i.data.subjects,t.$nextTick(function(){t._initScroll()})}).catch(function(t){console.log(t)})},_initScroll:function(){this.movieScroll=new a.a(this.$refs.movieList,{click:!0})},selectMovie:function(t,i){i._constructed&&(this.id=t,this.$router.push("/movie/subject/"+this.id))}}}},h9k8:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"back"},[e("i",{staticClass:"icon-arrow_lift",on:{click:function(i){t.back()}}},[t._v("<")])]),t._v(" "),e("div",{ref:"detail",staticClass:"detail"},[e("div",{staticClass:"contentWrapper"},[e("div",{staticClass:"movie-header"},[e("div",{staticClass:"image-header"},[e("img",{attrs:{src:t.item.images.large}})])]),t._v(" "),e("div",{staticClass:"movie-content"},[e("h1",[t._v(t._s(t.item.title))]),t._v(" "),e("div",{staticClass:"movie-message"},[e("span",[t._v(t._s(t.item.year)+" "),t._l(t.item.genres,function(i){return e("i",[t._v("/ "+t._s(i)+" ")])})],2),t._v(" "),e("span",[t._v("原名："+t._s(t.item.original_title))]),t._v(" "),e("span",[t._v("上映时间："+t._s(t.item.year)+"("),t._l(t.item.countries,function(i){return e("i",[t._v(t._s(i))])}),t._v(")")],2),t._v(" "),e("span",[t._v("时长：90分钟")])]),t._v(" "),e("div",{staticClass:"mark"},[e("span",[t._v("豆瓣评分")]),t._v(" "),e("span",[t._v(t._s(t.item.rating.average))]),t._v(" "),e("span",[t._v(t._s(t.item.rating.stars)+"星")]),t._v(" "),e("span",[t._v(t._s(t.item.ratings_count)+"人")])]),t._v(" "),e("div",{staticClass:"summary"},[e("h2",[t._v("剧情简介")]),t._v(" "),e("div",{staticClass:"summary-content"},[e("p",{ref:"summary",staticClass:"contHide"},[t._v("\n              "+t._s(t.item.summary)+"\n            ")]),t._v(" "),e("a",{ref:"expand",staticClass:"expand",on:{click:function(i){t.expand()}}},[t._v("(展开)")])])]),t._v(" "),e("div",{staticClass:"actors"},[e("h2",[t._v("影人")]),t._v(" "),e("div",{ref:"actor",staticClass:"actor-list"},[e("ul",{ref:"player",staticClass:"player-list"},[t._l(t.item.directors,function(i){return e("li",{staticClass:"player"},[e("a",{attrs:{href:i.alt}},[e("img",{attrs:{src:i.avatars.medium}}),t._v(" "),e("div",[e("span",{staticClass:"name"},[t._v(t._s(i.name))])])])])}),t._v(" "),t._l(t.item.casts,function(i){return e("li",{staticClass:"player"},[e("a",{attrs:{href:i.alt}},[e("img",{attrs:{src:i.avatars.medium}}),t._v(" "),e("span",{staticClass:"name"},[t._v(t._s(i.name))])])])})],2)])])])])])])},a=[],n={render:s,staticRenderFns:a};i.a=n},k5Ta:function(t,i,e){"use strict";var s=e("Cz8s");i.a={name:"app",data:function(){return{query:"",path:""}},computed:{key:function(){return void 0!==this.$route.name?this.$route.name+new Date:this.$route+new Date}},watch:{query:function(t){this.path="/search/"+t}},methods:{empty:function(){this.query=""}},components:{vHeader:s.a}}},pJuR:function(t,i){},pjlt:function(t,i,e){"use strict";function s(t){e("AWdC")}var a=e("fHUG"),n=e("bECS"),r=e("aCXx"),c=s,o=r(a.a,n.a,c,null,null);i.a=o.exports},vhmv:function(t,i){},xZhq:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"search-box"},[e("h1",[t._v(t._s(t.res.title))]),t._v(" "),e("div",{ref:"result",staticClass:"resList"},[e("ul",t._l(t.res.subjects,function(i){return e("li",{staticClass:"item-box",on:{click:function(e){t.selectMovie(i.id,e)}}},[e("div",{staticClass:"poster"},[e("img",{attrs:{src:i.images.small}})]),t._v(" "),e("div",{staticClass:"mes"},[e("span",{staticClass:"movie-title"},[t._v(t._s(i.title))]),t._v(" "),e("span",t._l(i.genres,function(i){return e("i",[t._v(t._s(i)+" / ")])})),t._v(" "),e("span",[t._v(t._s(i.rating.average)+" / "+t._s(i.year))])])])}))])])])},a=[],n={render:s,staticRenderFns:a};i.a=n}},["NHnr"]);
//# sourceMappingURL=app.97a94026458a07a5d23f.js.map